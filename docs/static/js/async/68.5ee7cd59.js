/*! For license information please see 68.5ee7cd59.js.LICENSE.txt */
(self.webpackChunk_fifo_rspress_blog=self.webpackChunk_fifo_rspress_blog||[]).push([["68"],{92625:function(e,t,s){"use strict";s.r(t);var n=s("35250"),r=s("51325");function i(e){let t=Object.assign({h2:"h2",a:"a",h3:"h3",pre:"pre",code:"code",p:"p",img:"img"},(0,r.useMDXComponents)(),e.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(t.h2,{id:"\u4E00\u914D\u7F6Ehooks\u7EC4\u4EF6\u5F00\u53D1",children:[(0,n.jsx)(t.a,{className:"header-anchor","aria-hidden":"true",href:"#\u4E00\u914D\u7F6Ehooks\u7EC4\u4EF6\u5F00\u53D1",children:"#"}),"\u4E00\u3001\u914D\u7F6Ehooks\u7EC4\u4EF6\u5F00\u53D1"]}),"\n",(0,n.jsxs)(t.h3,{id:"1\u914D\u7F6Epackagejson",children:[(0,n.jsx)(t.a,{className:"header-anchor","aria-hidden":"true",href:"#1\u914D\u7F6Epackagejson",children:"#"}),"1\u3001\u914D\u7F6Epackage.json"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{meta:"",children:'{\n    "name": "zhooks",\n    "version": "1.0.2",\n    "description": "",\n    "main": "dist/index.js",\n    "typing": "dist/index.d.ts",\n    "scripts": {\n        "test": "jest",\n        "build": "tsc --outDir dist src/index.ts",\n        "release": "rm -rf dist && npm run build && npm publish"\n    },\n    "repository": {\n        "type": "git",\n        "url": "git+https://zhifou@github.com/zhifou/hooks.git"\n    },\n    "keywords": [],\n    "author": "zhaoyadong",\n    "license": "ISC",\n    "bugs": {\n        "url": "https://github.com/zhifou/hooks/issues"\n    },\n    "homepage": "https://github.com/zhifou/hooks#readme",\n    "devDependencies": {\n        "react": "^17.0.1",\n        "typescript": "^4.2.3"\n    },\n    "publishConfig": {\n        "registry": "https://registry.npmjs.org/"\n    }\n}\n'})}),"\n",(0,n.jsxs)(t.h3,{id:"2tsconfigjson\u914D\u7F6E",children:[(0,n.jsx)(t.a,{className:"header-anchor","aria-hidden":"true",href:"#2tsconfigjson\u914D\u7F6E",children:"#"}),"2\u3001tsconfig.json\u914D\u7F6E"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{meta:"",children:'{\n    "compilerOptions": {\n        "target": "ES5",\n        "moduleResolution": "node",\n        "jsx": "react",\n        "allowJs": true,\n        "esModuleInterop": true,\n        "downlevelIteration": true,\n        "sourceMap": true,\n        "baseUrl": ".",\n        "paths": {\n            "@/*": [\n                "src/*"\n            ]\n        },\n        "allowSyntheticDefaultImports": true,\n        "skipLibCheck": true,\n        "declaration": false,\n        "strictNullChecks": true\n    },\n    "include": [\n        "src"\n    ],\n    "exclude": [\n        "node_modules",\n        "lib",\n        "es",\n        "dist",\n        "**/__tests__",\n        "**/__test__",\n        "**/demo"\n    ]\n}\n'})}),"\n",(0,n.jsxs)(t.h3,{id:"3\u6A21\u5757\u5BFC\u51FA",children:[(0,n.jsx)(t.a,{className:"header-anchor","aria-hidden":"true",href:"#3\u6A21\u5757\u5BFC\u51FA",children:"#"}),"3\u3001\u6A21\u5757\u5BFC\u51FA"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{meta:"",children:"/**\n* @file entry file\n* @author zhifou\n*/\nimport useLocalStorage from './useLocalStorage';\nimport useWindowSize from './useWindowSize';\nexport {\n    useLocalStorage,\n    useWindowSize\n};\n"})}),"\n",(0,n.jsxs)(t.h2,{id:"\u4E8C\u914D\u7F6Ejest\u5355\u5143\u6D4B\u8BD5",children:[(0,n.jsx)(t.a,{className:"header-anchor","aria-hidden":"true",href:"#\u4E8C\u914D\u7F6Ejest\u5355\u5143\u6D4B\u8BD5",children:"#"}),"\u4E8C\u3001\u914D\u7F6Ejest\u5355\u5143\u6D4B\u8BD5"]}),"\n",(0,n.jsxs)(t.h2,{id:"1\u5355\u5143\u6D4B\u8BD5\u91C7\u7528\u4E86jest--testing-libraryreact-hooks-\u7ED3\u5408\u65B9\u5F0F",children:[(0,n.jsx)(t.a,{className:"header-anchor","aria-hidden":"true",href:"#1\u5355\u5143\u6D4B\u8BD5\u91C7\u7528\u4E86jest--testing-libraryreact-hooks-\u7ED3\u5408\u65B9\u5F0F",children:"#"}),"1\u3001\u5355\u5143\u6D4B\u8BD5\u91C7\u7528\u4E86jest + testing-library/react-hooks \u7ED3\u5408\u65B9\u5F0F"]}),"\n",(0,n.jsx)(t.p,{children:"\u4E0B\u56FE\u7EA2\u6846\u90E8\u95E8\u662F\u4F9D\u8D56\u7EC4\u4EF6\u5305\uFF0C\u5305\u62EC\uFF1Ajest\u3001ts-jest\u3001@types/jest\u8FD9\u4E09\u4E2A\u662Fjest\u7EC4\u4EF6\u548Cts\u4E0B\u7684jest\u7684\u4F9D\u8D56\u7EC4\u4EF6@testing-library/react\u662F\u7528\u4E8E\u6D4B\u8BD5react\u7EC4\u4EF6\u4F7F\u7528\u7684\uFF0C@testing-library/react-hooks\u662F\u7528\u4E8E\u6D4B\u8BD5react-hooks\u7EC4\u4EF6\u4F7F\u7528\u7684\uFF0Creact-dom\u548Creact-test-renderer\u662F\u6A21\u62DFdom\u548Crender\u65B9\u6CD5\u4F7F\u7528\u7684\u7EC4\u4EF6"}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{src:"http://www.abcstatic.com/images/jpg/react-hooks-jest-2.jpg",alt:"\u914D\u7F6E"})}),"\n",(0,n.jsxs)(t.h3,{id:"2\u914D\u7F6Ejestconfigjs\u6587\u4EF6",children:[(0,n.jsx)(t.a,{className:"header-anchor","aria-hidden":"true",href:"#2\u914D\u7F6Ejestconfigjs\u6587\u4EF6",children:"#"}),"2\u3001\u914D\u7F6Ejest.config.js\u6587\u4EF6"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{meta:"",children:"module.exports = {\n    preset: 'ts-jest/presets/js-with-ts',\n    clearMocks: true,\n    globals: {\n        'ts-jest': {\n            tsConfig: 'tsconfig.json',\n        },\n    },\n};\n"})}),"\n",(0,n.jsxs)(t.h3,{id:"3\u521B\u5EFAtest\u6587\u4EF6\u9996\u5148\u5728\u6BCF\u4E00\u4E2Ahooks\u7EC4\u4EF6\u76EE\u5F55\u4E0B\u521B\u5EFA__test__\u76EE\u5F55\u5E76\u5728\u76EE\u5F55\u4E0B\u521B\u5EFAindextestts\u6587\u4EF6",children:[(0,n.jsx)(t.a,{className:"header-anchor","aria-hidden":"true",href:"#3\u521B\u5EFAtest\u6587\u4EF6\u9996\u5148\u5728\u6BCF\u4E00\u4E2Ahooks\u7EC4\u4EF6\u76EE\u5F55\u4E0B\u521B\u5EFA__test__\u76EE\u5F55\u5E76\u5728\u76EE\u5F55\u4E0B\u521B\u5EFAindextestts\u6587\u4EF6",children:"#"}),"3\u3001\u521B\u5EFAtest\u6587\u4EF6\uFF0C\u9996\u5148\u5728\u6BCF\u4E00\u4E2Ahooks\u7EC4\u4EF6\u76EE\u5F55\u4E0B\u521B\u5EFA__test__\u76EE\u5F55\uFF0C\u5E76\u5728\u76EE\u5F55\u4E0B\u521B\u5EFAindex.test.ts\u6587\u4EF6"]}),"\n",(0,n.jsx)(t.p,{children:"\u4E3E\u4F8B\u5982\u4E0B\uFF1A"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{meta:"",children:"import {renderHook} from \"@testing-library/react-hooks\";\nimport useWindowSize from '../index';\ndescribe('useWindowSize', () => {\n    it('should be defined', () => {\n        expect(useWindowSize).toBeDefined();\n    });\n    it('with argument', () => {\n        const hook = renderHook(() => useWindowSize());\n        expect(hook.result.current.width).toEqual(0);\n        expect(hook.result.current.height).toEqual(0);\n    });\n});\n"})}),"\n",(0,n.jsxs)(t.h3,{id:"4\u8FD0\u884C\u5355\u5143\u6D4B\u8BD5npm-run-test",children:[(0,n.jsx)(t.a,{className:"header-anchor","aria-hidden":"true",href:"#4\u8FD0\u884C\u5355\u5143\u6D4B\u8BD5npm-run-test",children:"#"}),"4\u3001\u8FD0\u884C\u5355\u5143\u6D4B\u8BD5\uFF0Cnpm run test"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{meta:"",children:'"scripts": {\n    "test": "jest",\n    "build": "tsc --outDir dist src/index.ts",\n    "release": "rm -rf dist && npm run build && npm publish"\n}\n'})}),"\n",(0,n.jsx)(t.p,{children:"\u4E0B\u9762\u662F\u8FD0\u884C\u7ED3\u679C\uFF1A"}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{src:"http://www.abcstatic.com/images/jpg/react-hooks-jest-1.jpg",alt:"\u6D4B\u8BD5\u7ED3\u679C"})})]})}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:t}=Object.assign({},(0,r.useMDXComponents)(),e.components);return t?(0,n.jsx)(t,Object.assign({},e,{children:(0,n.jsx)(i,e)})):i(e)}t.default=o,o.__RSPRESS_PAGE_META={},o.__RSPRESS_PAGE_META["..%2Fsource%2F_posts%2F2024-10-17-react-hooks-jest.md"]={toc:[{id:"\u4E00\u914D\u7F6Ehooks\u7EC4\u4EF6\u5F00\u53D1",text:"\u4E00\u3001\u914D\u7F6Ehooks\u7EC4\u4EF6\u5F00\u53D1",depth:2},{id:"1\u914D\u7F6Epackagejson",text:"1\u3001\u914D\u7F6Epackage.json",depth:3},{id:"2tsconfigjson\u914D\u7F6E",text:"2\u3001tsconfig.json\u914D\u7F6E",depth:3},{id:"3\u6A21\u5757\u5BFC\u51FA",text:"3\u3001\u6A21\u5757\u5BFC\u51FA",depth:3},{id:"\u4E8C\u914D\u7F6Ejest\u5355\u5143\u6D4B\u8BD5",text:"\u4E8C\u3001\u914D\u7F6Ejest\u5355\u5143\u6D4B\u8BD5",depth:2},{id:"1\u5355\u5143\u6D4B\u8BD5\u91C7\u7528\u4E86jest--testing-libraryreact-hooks-\u7ED3\u5408\u65B9\u5F0F",text:"1\u3001\u5355\u5143\u6D4B\u8BD5\u91C7\u7528\u4E86jest + testing-library/react-hooks \u7ED3\u5408\u65B9\u5F0F",depth:2},{id:"2\u914D\u7F6Ejestconfigjs\u6587\u4EF6",text:"2\u3001\u914D\u7F6Ejest.config.js\u6587\u4EF6",depth:3},{id:"3\u521B\u5EFAtest\u6587\u4EF6\u9996\u5148\u5728\u6BCF\u4E00\u4E2Ahooks\u7EC4\u4EF6\u76EE\u5F55\u4E0B\u521B\u5EFA__test__\u76EE\u5F55\u5E76\u5728\u76EE\u5F55\u4E0B\u521B\u5EFAindextestts\u6587\u4EF6",text:"3\u3001\u521B\u5EFAtest\u6587\u4EF6\uFF0C\u9996\u5148\u5728\u6BCF\u4E00\u4E2Ahooks\u7EC4\u4EF6\u76EE\u5F55\u4E0B\u521B\u5EFA__test__\u76EE\u5F55\uFF0C\u5E76\u5728\u76EE\u5F55\u4E0B\u521B\u5EFAindex.test.ts\u6587\u4EF6",depth:3},{id:"4\u8FD0\u884C\u5355\u5143\u6D4B\u8BD5npm-run-test",text:"4\u3001\u8FD0\u884C\u5355\u5143\u6D4B\u8BD5\uFF0Cnpm run test",depth:3}],title:"",frontmatter:{layout:"post",title:"hooks\u7EC4\u4EF6\u5F00\u53D1",date:"2024-10-17T22:20:00.000Z",categories:["\u8BED\u8A00"],tags:["react","hooks"]}}}}]);